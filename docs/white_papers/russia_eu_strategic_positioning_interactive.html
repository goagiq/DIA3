<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategic Positioning Analysis: Russia-EU Security Cooperation</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .dashboard-grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .card h3 {
            color: #4ecdc4;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid rgba(78, 205, 196, 0.3);
            padding-bottom: 10px;
        }

        .map-container {
            height: 500px;
            border-radius: 10px;
            overflow: hidden;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        .force-projection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .force-card {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(78, 205, 196, 0.2));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .force-value {
            font-size: 2em;
            font-weight: bold;
            color: #4ecdc4;
            margin-bottom: 5px;
        }

        .force-label {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .capability-radar {
            height: 400px;
        }

        .strategic-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .metric-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .metric-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #ff6b6b;
        }

        .metric-label {
            font-size: 0.8em;
            opacity: 0.7;
            margin-top: 5px;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-group label {
            color: white;
            font-weight: bold;
        }

        .control-group select, .control-group input {
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            backdrop-filter: blur(10px);
        }

        .control-group select option {
            background: #1a1a2e;
            color: white;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
            justify-content: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 0.9em;
            pointer-events: none;
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 768px) {
            .dashboard-grid, .dashboard-grid-3 {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Strategic Positioning Analysis</h1>
            <p>Russia-EU Security Cooperation in Libya and Syria Conflicts</p>
        </div>

        <div class="controls">
            <div class="control-group">
                <label>Analysis Focus:</label>
                <select id="analysisFocus">
                    <option value="military">Military Capabilities</option>
                    <option value="economic">Economic Influence</option>
                    <option value="diplomatic">Diplomatic Relations</option>
                    <option value="strategic">Strategic Interests</option>
                </select>
            </div>
            <div class="control-group">
                <label>Time Period:</label>
                <select id="timePeriod">
                    <option value="current">Current (2023)</option>
                    <option value="2020">2020</option>
                    <option value="2015">2015</option>
                    <option value="2011">2011</option>
                </select>
            </div>
            <div class="control-group">
                <label>Region:</label>
                <select id="region">
                    <option value="all">All Regions</option>
                    <option value="libya">Libya</option>
                    <option value="syria">Syria</option>
                    <option value="mediterranean">Mediterranean</option>
                </select>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="card">
                <h3>Geopolitical Map - Force Projection</h3>
                <div id="mapContainer" class="map-container"></div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ff6b6b;"></div>
                        <span>Russian Forces</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #74b9ff;"></div>
                        <span>EU/NATO Forces</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #fd79a8;"></div>
                        <span>Conflict Zones</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #fdcb6e;"></div>
                        <span>Strategic Bases</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>Capability Comparison Radar</h3>
                <div id="capabilityRadar" class="capability-radar"></div>
            </div>
        </div>

        <div class="card">
            <h3>Force Projection Analysis</h3>
            <div class="force-projection">
                <div class="force-card">
                    <div class="force-value">0.95</div>
                    <div class="force-label">Russia Strategic Centrality</div>
                </div>
                <div class="force-card">
                    <div class="force-value">0.88</div>
                    <div class="force-label">EU Diplomatic Centrality</div>
                </div>
                <div class="force-card">
                    <div class="force-value">0.82</div>
                    <div class="force-label">Libya Conflict Intensity</div>
                </div>
                <div class="force-card">
                    <div class="force-value">0.78</div>
                    <div class="force-label">Syria Conflict Intensity</div>
                </div>
                <div class="force-card">
                    <div class="force-value">0.72</div>
                    <div class="force-label">Wagner Group Influence</div>
                </div>
                <div class="force-card">
                    <div class="force-value">0.65</div>
                    <div class="force-label">US Global Power</div>
                </div>
            </div>
        </div>

        <div class="dashboard-grid-3">
            <div class="card">
                <h3>Strategic Vulnerabilities</h3>
                <div id="vulnerabilityChart" class="chart-container"></div>
            </div>
            <div class="card">
                <h3>Cooperation Opportunities</h3>
                <div id="cooperationChart" class="chart-container"></div>
            </div>
            <div class="card">
                <h3>Competition Intensity</h3>
                <div id="competitionChart" class="chart-container"></div>
            </div>
        </div>

        <div class="card">
            <h3>Strategic Metrics Dashboard</h3>
            <div class="strategic-metrics">
                <div class="metric-item">
                    <div class="metric-value">805</div>
                    <div class="metric-label">Total Entities</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value">96</div>
                    <div class="metric-label">Relationships</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value">0.00015</div>
                    <div class="metric-label">Graph Density</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value">1</div>
                    <div class="metric-label">Connected Components</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value">313</div>
                    <div class="metric-label">Primary Entities</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value">12</div>
                    <div class="metric-label">Relationship Types</div>
                </div>
            </div>
        </div>
    </div>

    <div id="tooltip" class="tooltip" style="display: none;"></div>

    <script>
        // Strategic positioning data
        const strategicData = {
            military_capabilities: {
                russia: {
                    air_power: 0.9,
                    naval_power: 0.7,
                    ground_forces: 0.8,
                    cyber_capabilities: 0.8,
                    nuclear_deterrent: 0.95
                },
                eu: {
                    air_power: 0.6,
                    naval_power: 0.5,
                    ground_forces: 0.4,
                    cyber_capabilities: 0.7,
                    nuclear_deterrent: 0.3
                }
            },
            economic_influence: {
                russia: {
                    energy_exports: 0.8,
                    arms_sales: 0.7,
                    foreign_investment: 0.4,
                    trade_volume: 0.6,
                    financial_system: 0.3
                },
                eu: {
                    energy_exports: 0.2,
                    arms_sales: 0.6,
                    foreign_investment: 0.9,
                    trade_volume: 0.9,
                    financial_system: 0.9
                }
            },
            diplomatic_relations: {
                russia: {
                    bilateral_agreements: 0.6,
                    multilateral_forums: 0.4,
                    alliance_networks: 0.3,
                    soft_power: 0.4,
                    international_support: 0.3
                },
                eu: {
                    bilateral_agreements: 0.8,
                    multilateral_forums: 0.9,
                    alliance_networks: 0.9,
                    soft_power: 0.8,
                    international_support: 0.7
                }
            },
            strategic_interests: {
                russia: {
                    mediterranean_access: 0.9,
                    energy_resources: 0.8,
                    regional_influence: 0.8,
                    military_bases: 0.7,
                    arms_market: 0.8
                },
                eu: {
                    mediterranean_access: 0.7,
                    energy_resources: 0.8,
                    regional_influence: 0.6,
                    military_bases: 0.4,
                    arms_market: 0.6
                }
            }
        };

        // Initialize Map
        function initializeMap() {
            const map = L.map('mapContainer').setView([35, 20], 4);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors'
            }).addTo(map);

            // Add strategic locations
            const strategicLocations = [
                {name: 'Tartus Naval Base', coords: [34.9, 35.9], type: 'russian', description: 'Russian naval base in Syria'},
                {name: 'Libya Conflict Zone', coords: [26.3, 17.2], type: 'conflict', description: 'Ongoing civil war'},
                {name: 'Syria Conflict Zone', coords: [34.8, 38.9], type: 'conflict', description: 'Civil war and regime conflict'},
                {name: 'NATO Mediterranean', coords: [36.0, 14.0], type: 'nato', description: 'NATO Mediterranean operations'},
                {name: 'EU Border Control', coords: [35.0, 10.0], type: 'eu', description: 'EU migration management'},
                {name: 'Wagner Operations', coords: [27.0, 18.0], type: 'russian', description: 'Private military contractors'}
            ];

            strategicLocations.forEach(location => {
                const colors = {
                    russian: '#ff6b6b',
                    nato: '#74b9ff',
                    eu: '#74b9ff',
                    conflict: '#fd79a8'
                };

                const marker = L.circleMarker(location.coords, {
                    radius: 8,
                    fillColor: colors[location.type],
                    color: '#fff',
                    weight: 2,
                    opacity: 1,
                    fillOpacity: 0.8
                }).addTo(map);

                marker.bindPopup(`<b>${location.name}</b><br>${location.description}`);
            });

            // Add force projection arrows
            const forceProjections = [
                {from: [55.8, 37.6], to: [34.9, 35.9], type: 'russian', strength: 0.9},
                {from: [55.8, 37.6], to: [26.3, 17.2], type: 'russian', strength: 0.8},
                {from: [50.1, 14.4], to: [26.3, 17.2], type: 'eu', strength: 0.6},
                {from: [50.1, 14.4], to: [34.8, 38.9], type: 'eu', strength: 0.5}
            ];

            forceProjections.forEach(projection => {
                const arrow = L.polyline([projection.from, projection.to], {
                    color: projection.type === 'russian' ? '#ff6b6b' : '#74b9ff',
                    weight: projection.strength * 5,
                    opacity: 0.7,
                    dashArray: projection.type === 'eu' ? '5,5' : null
                }).addTo(map);
            });
        }

        // Initialize Capability Radar Chart
        function initializeCapabilityRadar() {
            const ctx = document.getElementById('capabilityRadar').getContext('2d');
            const focus = document.getElementById('analysisFocus').value;
            const data = strategicData[focus] || strategicData.military_capabilities;

            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: Object.keys(data.russia).map(key => key.replace(/_/g, ' ').toUpperCase()),
                    datasets: [{
                        label: 'Russia',
                        data: Object.values(data.russia),
                        borderColor: '#ff6b6b',
                        backgroundColor: 'rgba(255, 107, 107, 0.2)',
                        pointBackgroundColor: '#ff6b6b',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#ff6b6b'
                    }, {
                        label: 'EU',
                        data: Object.values(data.eu),
                        borderColor: '#74b9ff',
                        backgroundColor: 'rgba(116, 185, 255, 0.2)',
                        pointBackgroundColor: '#74b9ff',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#74b9ff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 1,
                            ticks: {
                                stepSize: 0.2
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#e0e0e0'
                            }
                        }
                    }
                }
            });
        }

        // Initialize Charts
        function initializeCharts() {
            // Vulnerability Chart
            const vulnerabilityCtx = document.getElementById('vulnerabilityChart').getContext('2d');
            new Chart(vulnerabilityCtx, {
                type: 'bar',
                data: {
                    labels: ['Economic Sanctions', 'Energy Dependence', 'Internal Divisions', 'Military Limitations', 'International Isolation'],
                    datasets: [{
                        label: 'Russia',
                        data: [0.6, 0.5, 0.3, 0.2, 0.7],
                        backgroundColor: 'rgba(255, 107, 107, 0.8)',
                        borderColor: '#ff6b6b',
                        borderWidth: 2
                    }, {
                        label: 'EU',
                        data: [0.2, 0.7, 0.6, 0.8, 0.1],
                        backgroundColor: 'rgba(116, 185, 255, 0.8)',
                        borderColor: '#74b9ff',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1,
                            ticks: {
                                color: '#e0e0e0'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#e0e0e0'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#e0e0e0'
                            }
                        }
                    }
                }
            });

            // Cooperation Chart
            const cooperationCtx = document.getElementById('cooperationChart').getContext('2d');
            new Chart(cooperationCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Counter-terrorism', 'Humanitarian Aid', 'Migration Management', 'Energy Security', 'Arms Control'],
                    datasets: [{
                        data: [0.4, 0.3, 0.3, 0.5, 0.2],
                        backgroundColor: [
                            '#00b894',
                            '#74b9ff',
                            '#fdcb6e',
                            '#fd79a8',
                            '#6c5ce7'
                        ],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#e0e0e0'
                            }
                        }
                    }
                }
            });

            // Competition Chart
            const competitionCtx = document.getElementById('competitionChart').getContext('2d');
            new Chart(competitionCtx, {
                type: 'horizontalBar',
                data: {
                    labels: ['Military Influence', 'Political Influence', 'Economic Interests', 'Information Operations'],
                    datasets: [{
                        label: 'Competition Intensity',
                        data: [0.8, 0.7, 0.6, 0.8],
                        backgroundColor: [
                            'rgba(255, 107, 107, 0.8)',
                            'rgba(255, 107, 107, 0.7)',
                            'rgba(255, 107, 107, 0.6)',
                            'rgba(255, 107, 107, 0.8)'
                        ],
                        borderColor: '#ff6b6b',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 1,
                            ticks: {
                                color: '#e0e0e0'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        y: {
                            ticks: {
                                color: '#e0e0e0'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // Event listeners
        document.getElementById('analysisFocus').addEventListener('change', function() {
            initializeCapabilityRadar();
        });

        document.getElementById('timePeriod').addEventListener('change', function() {
            console.log('Time period changed to:', this.value);
            // Implement time-based data filtering
        });

        document.getElementById('region').addEventListener('change', function() {
            console.log('Region changed to:', this.value);
            // Implement region-based filtering
        });

        // Initialize all components
        document.addEventListener('DOMContentLoaded', function() {
            initializeMap();
            initializeCapabilityRadar();
            initializeCharts();
        });
    </script>
</body>
</html>
